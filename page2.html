<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vault</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="vault-box">
      <h1>Welcome to the Portal</h1>
      
      <div id="ethInfo" class="eth-info">
        <h2>Ethereum Dashboard</h2>
        <p>Portal: 10 ETH</p>
        <p id="ethPrice">Fetching ETH price...</p>
        <!--<button class="action-btn" onclick="buyETH()">Buy ETH</button>
        <button class="action-btn" onclick="sellETH()">Sell ETH</button>-->
      </div>
    <!-- Recent Transactions Section -->
    <div class="transactions-section">
      <div class="transactions-header">
        <h2>üîç Recent Ethereum Transactions</h2>
       <!--<p>Monitor the latest transactions for the selected Ethereum address.</p>-->
      </div>
      <div class="transactions-list">
        <ul id="transactionList">
          <li>Fetching transactions...</li>
        </ul>
      </div>
      <div class="container">
    <h1>Latest Ethereum Transactions</h1>
    <p>Simulated dynamic transactions similar to Etherscan.io</p>
    <ul id="transactionFeed" class="transaction-feed"></ul>
    </div>
    </div>
  </div>

  <script>
    // Fetch Ethereum price using Coinbase API
    async function fetchETHPrice() {
      const ethPriceElement = document.getElementById("ethPrice");
      try {
        const response = await fetch("https://api.coinbase.com/v2/prices/ETH-USD/spot");
        const data = await response.json();
        const ethPrice = data.data.amount;
        ethPriceElement.textContent = `Current ETH Price: $${ethPrice}`;
      } catch (error) {
        ethPriceElement.textContent = "Error fetching ETH price. Please try again later.";
      }
    }

    // Fetch recent Ethereum transactions from Etherscan
    async function fetchRecentTransactions() {
      const transactionList = document.getElementById("transactionList");
      const address = "0xde0b295669a9fd93d5f28d9ec85e40f4cb697bae"; // Example Ethereum address
      const apiKey = "YOUR_ETHERSCAN_API_KEY"; // Replace with your API key

      try {
        const response = await fetch(`https://api.etherscan.io/api?module=account&action=txlist&address=${address}&startblock=0&endblock=99999999&sort=desc&apikey=${apiKey}`);
        const data = await response.json();

        if (data.status === "1" && data.result.length > 0) {
          transactionList.innerHTML = ""; // Clear the placeholder text
          const transactions = data.result.slice(0, 5); // Show the latest 5 transactions

          transactions.forEach((tx) => {
            const listItem = document.createElement("li");
            listItem.innerHTML = `
              <strong>Hash:</strong> ${tx.hash} <br>
              <strong>From:</strong> ${tx.from} <br>
              <strong>To:</strong> ${tx.to} <br>
              <strong>Value:</strong> ${tx.value / 10 ** 18} ETH <br>
              <strong>Time:</strong> ${new Date(tx.timeStamp * 1000).toLocaleString()}
            `;
            transactionList.appendChild(listItem);
          });
        } else {
          transactionList.innerHTML = "<li>No transactions found or API error.</li>";
        }
      } catch (error) {
        transactionList.innerHTML = "<li>Error fetching transactions. Please try again later.</li>";
      }
    }
    // Placeholder functions for Buy and Sell buttons
    function buyETH() {
      alert("Buy ETH functionality coming soon!");
    }

    function sellETH() {
      alert("Sell ETH functionality coming soon!");
    }

    // Fetch ETH price on load
    fetchETHPrice();
  </script>
</body>
</html>
